## Курс Route256 


### 1. Рассчет стоимсти доставки (MVP)

#### Бизнес потребность
Необходим функционал расчета стоимости доставки груза на расстояние 1 км. Стоимость доставки определяется суммарным объемом грузов всех грузов, умноженным на коэффициент 3.27 (для см2).
Параметры расчета и результаты расчета должны сохраняться во временное хранилище.

#### Системный анализ
Нужен WebApi-сервис для расчета стоимости доставки груза.
1. Необходим метод расчета, который принимает список товара с их размерами (в мм), и возвращает стоимость доставки.
2. Каждый запрос должен сохраняться — в истории изменения необходимо иметь объем и стоимость.
3. Должна быть возможность получения истории запросов с сортировкой от последнего к первому.


Контакт рассчета стоимости 
```
HTTP POST /v1/delivery-price/caclulate
  Request Json : {
    goods: [
      {
        length: 0,
        width: 0,
        height: 0,
      }, ...
    
    ]
  }
  Response Json : {
     price: 0.0
  }
```
  Контакт получения стоимости рассчета 
```
  HTTP POST /v1/delivery-price/get-history
  Request Json : {
    Take: 0
  }
  Response Json 200 : 
   cargos: [{
    valume: 0.0,
    price: 0.0
  
  }, ... ]
```


### 2. Учет веса товаров при расчете стоимости доставки

#### Бизнес потребность
При расчёте стоимости доставки необходимо учитывать вес груза (в граммах). Стоимость доставки — суммарный вес груза умноженный на 1.34 (для 1 кг).
Итоговая стоимость доставки — наибольшая цена: либо рассчитанная по весу, либо по объему.

#### Системный анализ
• Пользователь вводит вес в кг - нужно пересчитывать в граммы
• Итоговая стоимость - наибольшая из стоимостей (по весу или по объему).
• Требуется обратная совместимость
• Реализуем новые методы


Контакт рассчета стоимости 
```
HTTP POST /v2/delivery-price/caclulate
  Request Json : {
    goods: [
      {
        length: 0,
        width: 0,
        height: 0,
        weight: 0
      }, ...
    
    ]
  }
  Response Json : {
     price: 0.0
  }
```
  Контакт получения стоимости рассчета 
```
  HTTP POST /v2/delivery-price/get-history
  Request Json : {
    Take: 0
  }
  Response Json 200 : 
   cargos: [{
    {
    valume: 0.0,
    weight: 0.0
     },
   price: 0.0
  }

... ]
```
